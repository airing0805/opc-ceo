# 情绪追踪

## 功能概述

追踪用户的情绪状态，记录情绪变化，分析情绪模式，识别触发因素。

## 情绪类型

| 类型 | 中文 | 说明 |
|------|------|------|
| happy | 快乐 | 积极正向情绪 |
| sad | 悲伤 | 消极情绪，可能源于失落 |
| anxious | 焦虑 | 担忧未来，紧张不安 |
| frustrated | 挫败 | 目标受阻后的不满 |
| calm | 平静 | 情绪稳定，心态平和 |
| excited | 兴奋 | 高度积极的情绪状态 |
| tired | 疲惫 | 能量不足，需要休息 |
| other | 其他 | 其他未分类情绪 |

## 情绪评分标准

| 分数 | 状态 | 说明 |
|------|------|------|
| 1-2 | 极差 | 情绪极度低落，需要关注 |
| 3-4 | 较差 | 情绪低落，影响正常生活 |
| 5-6 | 一般 | 情绪正常波动 |
| 7-8 | 较好 | 情绪积极，状态良好 |
| 9-10 | 极好 | 情绪高涨，充满活力 |

## 记录流程

### 创建情绪记录

```
1. 用户报告当前情绪状态和强度
2. 创建 EmotionEntry 实体：
   - timestamp: 当前时间
   - emotionType: 情绪类型
   - intensity: 情绪强度 (1-10)
   - triggers: 触发因素描述
   - description: 详细描述
3. 关联到当日的 WellnessRecord
```

### 识别触发因素

常见的情绪触发因素：

| 情绪 | 可能触发因素 |
|------|-------------|
| 焦虑 | 截止日期、不确定性、客户压力 |
| 挫败 | 技术问题、沟通障碍、计划变更 |
| 疲惫 | 长时间工作、睡眠不足、缺乏休息 |
| 兴奋 | 项目进展、新机会、成就达成 |
| 平静 | 完成任务、环境舒适、节奏适中 |
| 悲伤 | 拒绝、失败、失去机会 |

## 情绪模式分析

### 周期性检查

每日、每周、每月的情绪趋势：

```
每日检查：
- 早晚情绪对比
- 情绪波动频率
- 低情绪时段识别

每周检查：
- 工作日与周末差异
- 高压力日识别
- 情绪稳定度评估

每月检查：
- 整体情绪趋势
- 持续低情绪预警
- 季节性模式识别
```

### 异常检测

以下情况需要特别关注：

1. **持续低情绪** - 连续3天评分低于4
2. **情绪剧烈波动** - 一日内评分变化超过6分
3. **情绪单一化** - 只有负面情绪记录

## 与 Memory 的交互

### 查询情绪记录

```
使用 mcp__memory__search_nodes:
- entityType: EmotionEntry
- 时间范围过滤
- 按时间排序
```

### 创建情绪记录

```
使用 mcp__memory__create_entities:
- 创建 EmotionEntry 实体
- 创建 belongsTo 关系
```

## 使用示例

### 示例 1：记录当前情绪

```
用户: "今天下午3点，我感到有点焦虑，大概6分，因为有个项目截止日期快到了"

wellness-coach 处理:
1. 确认日期的 WellnessRecord 存在，如不存在则创建
2. 创建 EmotionEntry:
   - timestamp: 今日 15:00
   - emotionType: anxious
   - intensity: 6
   - triggers: 项目截止日期临近
   - belongsTo: WELLNESS-YYYY-MM-DD-001
3. 确认记录成功
4. 提供缓解建议
```

### 示例 2：分析今日情绪

```
用户: "今天的情绪怎么样？"

wellness-coach 处理:
1. 查询今日的所有 EmotionEntry
2. 计算情绪评分平均值
3. 识别最高/最低情绪时段
4. 总结情绪模式
```

### 示例 3：识别触发模式

```
用户: "我为什么总是感到焦虑？"

wellness-coach 处理:
1. 查询最近一周的所有 anxious 类型的 EmotionEntry
2. 分析 triggers 字段中的共同因素
3. 识别高频触发源
4. 提供针对性建议
```

## 最佳实践

1. **及时记录** - 情绪发生后尽快记录，避免遗忘
2. **诚实记录** - 不美化情绪状态，如实反映
3. **寻找触发因素** - 帮助用户识别情绪背后的原因
4. **关注模式** - 长期追踪比单次记录更有价值
5. **积极事件也记录** - 感恩日记有助于心理健康

## 与其他模块的协作

- **压力管理.md**: 识别情绪与压力的关系
- **工作生活平衡.md**: 分析工作强度对情绪的影响
- **正念练习.md**: 情绪低落时推荐正念练习
