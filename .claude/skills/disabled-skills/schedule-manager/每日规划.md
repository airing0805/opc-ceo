# 每日规划

## 概述

每日规划流程，将任务映射到时间块，合理分配一天的时间。

## 规划流程

```
┌─────────────────────────────────────────────────────────────────┐
│                     每日规划流程                           │
├─────────────────────────────────────────────────────────────────┤
│                                                            │
│  ┌──────────┐    ┌──────────┐    ┌──────────┐           │
│  │ 1.获取   │ -> │ 2.分析   │ -> │ 3.规划   │           │
│  │  任务清单  │    │  优先级  │    │  时间块  │           │
│  └──────────┘    └──────────┘    └──────────┘           │
│       │                │                │                    │
│       ▼                ▼                ▼                    │
│  查询今日待办      优先级排序      分配到时间块                │
│  固定事件         (P1 > P2 > P3)   创建专注时间              │
│                                                            │
│  ┌──────────┐    ┌──────────┐    ┌──────────┐           │
│  │ 4.设置   │ -> │ 5.确认   │ -> │ 6.执行   │           │
│  │   提醒    │    │   日程    │    │   跟踪   │           │
│  └──────────┘    └──────────┘    └──────────┘           │
│       │                │                │                    │
│       ▼                ▼                ▼                    │
│  设置事件提醒     用户确认规划     实时更新状态               │
│  每日回顾提醒     或自动执行       完成标记                  │
│                                                            │
└─────────────────────────────────────────────────────────────────┘
```

## 规划步骤

### 步骤 1：获取任务和固定事件

```
1. 查询今日所有待完成任务（task-manager）
2. 查询今日固定事件
3. 识别空闲时间段
```

### 步骤 2：分析任务优先级

```
按优先级排序：
- P1: 关键任务（截止日期临近或高优先级）
- P2: 重要任务
- P3: 一般任务
```

### 步骤 3：规划时间块

```
时间分配策略：
┌─────────────────────────────────────────────┐
│  08:00 - 09:00  |  TB-LEARN (学习)   │
│  09:00 - 12:00  |  TB-DEEP (深度工作) │
│  12:00 - 13:00  |  TB-BREAK (午休)   │
│  13:00 - 14:00  |  TB-ADMIN (行政)   │
│  14:00 - 16:00  |  TB-MEET (会议)    │
│  16:00 - 18:00  |  TB-DEEP (深度工作) │
└─────────────────────────────────────────────┘
```

### 步骤 4：设置提醒

```
- 上午 9:00 开始提醒
- 事件开始前 15 分钟提醒
- 每日总结提醒（晚上 8:00）
```

### 步骤 5：生成规划报告

```
【每日规划】2026-02-24
========================

【今日任务】
P1: 完成项目核心功能 (TB-DEEP)
P2: 审查代码提交 (TB-DEEP)
P3: 整理文档 (TB-ADMIN)

【日程安排】
09:00 - 12:00 | TB-DEEP | 完成项目核心功能
14:00 - 15:00 | TB-MEET | 项目进度会议
16:00 - 18:00 | TB-DEEP | 审查代码提交

【时间统计】
深度工作: 5 小时
会议: 1 小时
行政: 1 小时
学习: 1 小时
休息: 1 小时
```

## 任务到时间块映射

| 任务类型 | 推荐时间块 | 说明 |
|---------|-------------|------|
| 编码开发 | TB-DEEP | 需要高度专注 |
| 代码审查 | TB-DEEP | 需要集中注意力 |
| 会议讨论 | TB-MEET | 互动沟通 |
| 邮件处理 | TB-ADMIN | 低优先级任务 |
| 学习阅读 | TB-LEARN | 知识积累 |
| 休息 | TB-BREAK | 恢复精力 |

## 每日回顾

### 回顾内容

```
【每日回顾】2026-02-24
========================

【完成任务】
✓ 完成项目核心功能 (2 小时)
✗ 审查代码提交 (未完成)
✓ 整理文档 (1 小时)

【时间分配】
深度工作: 3 小时 (实际 5 小时计划)
会议: 1 小时
行政: 1 小时

【明日计划】
1. 完成代码审查
2. 继续项目开发
```

## MCP Memory 存储

### DailyPlan 实体

```yaml
entityType: DailyPlan
name: DAILY-2026-02-24
observations:
  - date: 2026-02-24
  - tasks:
    - taskId: TASK-2026-02-24-001
      timeBlock: TB-DEEP
      scheduled: 09:00-12:00
  - events: [EVENT-2026-02-24-001, EVENT-2026-02-24-002]
  - timeAllocation:
    - TB-DEEP: 5
    - TB-MEET: 1
    - TB-ADMIN: 1
    - TB-LEARN: 1
    - TB-BREAK: 1
  - createdAt: 2026-02-24T08:00:00Z
```

## 注意事项

- 固定事件优先安排
- 深度工作时间应尽量连续
- 定期休息，避免疲劳
- 每日回顾帮助改进规划
