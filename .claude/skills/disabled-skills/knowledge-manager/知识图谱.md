# 知识图谱

## 功能概述

定义知识图谱的实体类型和关系类型。

## 实体类型

### Note（笔记）

| 属性 | 类型 | 说明 |
|------|------|------|
| title | string | 笔记标题 |
| content | string | 笔记内容 |
| tags | string | 标签，逗号分隔 |
| category | string | 分类 |
| createdAt | datetime | 创建时间 |
| updatedAt | datetime | 更新时间 |

### Concept（概念）

| 属性 | 类型 | 说明 |
|------|------|------|
| name | string | 概念名称 |
| description | string | 概念描述 |
| type | string | 概念类型：设计模式/算法/工具/概念 |
| createdAt | datetime | 创建时间 |

### Project（项目）

| 属性 | 类型 | 说明 |
|------|------|------|
| name | string | 项目名称 |
| description | string | 项目描述 |
| status | string | 状态：active/completed/archived |
| startDate | datetime | 开始日期 |
| endDate | datetime | 结束日期 |

### Resource（资源）

| 属性 | 类型 | 说明 |
|------|------|------|
| title | string | 资源标题 |
| type | string | 类型：article/book/tool/course/podcast/video |
| url | string | 资源链接 |
| author | string | 作者/来源 |
| createdAt | datetime | 创建时间 |

### Person（人物）

| 属性 | 类型 | 说明 |
|------|------|------|
| name | string | 人物名称 |
| role | string | 角色：作者/导师/同事/专家 |
| organization | string | 所属组织 |
| createdAt | datetime | 创建时间 |

---

## 关系类型

### 概念关系

| 关系 | 方向 | 说明 |
|------|------|------|
| `relates_to` | 双向 | 概念之间的关联 |
| `similar_to` | 双向 | 相似概念 |

### 项目关系

| 关系 | 方向 | 说明 |
|------|------|------|
| `has_note` | out | 项目包含笔记 |
| `has_concept` | out | 项目使用概念 |
| `has_resource` | out | 项目使用资源 |

### 资源关系

| 关系 | 方向 | 说明 |
|------|------|------|
| `used_in` | out | 资源在项目中使用 |
| `refers_to` | out | 资源引用概念 |
| `authored_by` | out | 由人物创建 |

### 人物关系

| 关系 | 方向 | 说明 |
|------|------|------|
| `created_note` | out | 人物创建笔记 |
| `created_concept` | out | 人物创建概念 |
| `authored` | out | 人物创作资源 |

---

## 知识图谱结构

```
                    Person
                       │
          created_note/concept/created
                       ▼
┌─────────────────────────────────────────────────┐
│              Knowledge Network                │
├─────────────────────────────────────────────────┤
│                                            │
│    Concept  ◄──relates_to───► Concept    │
│       │                               │         │
│       └──────used_in───────────────► Project   │
│                     │                        │         │
│                     └─────has_note─────────────► Note     │
│                                                        │
└────────────────────────────────────────────────────────┘
```

---

## MCP Memory 使用

### 创建关系

```
使用 mcp__memory__create_relations:
{
  "relations": [{
    "from": "CONCEPT-单例模式",
    "to": "PROJ-001: OPC-CEO",
    "relationType": "used_in"
  }, {
    "from": "NOTE-2026-02-23-001",
    "to": "PROJ-001: OPC-CEO",
    "relationType": "has_note"
  }]
}
```

### 删除关系

```
使用 mcp__memory__delete_relations:
{
  "relations": [{
    "from": "CONCEPT-旧概念",
    "to": "PROJ-001: OPC-CEO",
    "relationType": "used_in"
  }]
}
```

---

## 实体关系查询

```
使用 mcp__memory__open_nodes 获取实体及其关系
返回的实体包含 incoming 和 outgoing 关系
```

---

## 相关模块

- [知识存储](知识存储.md) - 知识实体存储
- [知识检索](知识检索.md) - 语义搜索、关联查询
- [笔记规范](笔记规范.md) - 笔记格式、模板
