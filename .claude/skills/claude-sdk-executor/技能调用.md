# 技能调用

## 功能概述

程序化调用其他 OPC-CEO 技能。

## 操作命令

### 命令 1：调用 task-manager

**用途**：调用任务管理技能

**语法**：
```
调用task-manager:
  - action: <操作类型>
  - params: <参数对象>
```

**支持的操作**：

| 操作 | 说明 | 参数 |
|------|------|------|
| create_task | 创建任务 | title, description, priority等 |
| search_tasks | 搜索任务 | filters, sortBy |
| start_task | 开始任务 | taskId |
| complete_task | 完成任务 | taskId, actualMinutes |
| generate_report | 生成报告 | type: daily|weekly |

**示例**：

```json
{
  "action": "create_task",
  "params": {
    "title": "完成项目文档",
    "priority": "high",
    "estimatedMinutes": 120
  }
}
```

---

### 命令 2：调用 file-manager

**用途**：调用文件管理技能

**语法**：
```
调用file-manager:
  - action: <操作类型>
  - params: <参数对象>
```

**支持的操作**：

| 操作 | 说明 | 参数 |
|------|------|------|
| search_files | 搜索文件 | pattern, directory |
| create_file | 创建文件 | path, content |
| read_file | 读取文件 | path |
| backup_directory | 备份目录 | source, destination |

**示例**：

```json
{
  "action": "search_files",
  "params": {
    "pattern": "*.md",
    "directory": "E:\\Documents"
  }
}
```

---

### 命令 3：调用 knowledge-manager

**用途**：调用知识管理技能

**语法**：
```
调用knowledge-manager:
  - action: <操作类型>
  - params: <参数对象>
```

**支持的操作**：

| 操作 | 说明 | 参数 |
|------|------|------|
| search_knowledge | 搜索知识 | query, entityType |
| store_note | 存储笔记 | title, content, tags |
| store_concept | 存储概念 | name, description |
| semantic_search | 语义搜索 | query |

**示例**：

```json
{
  "action": "semantic_search",
  "params": {
    "query": "任务管理设计模式"
  }
}
```

---

## 调用协议

### 请求格式

```json
{
  "skill": "技能名称",
  "action": "操作类型",
  "params": {
    "参数名": "参数值"
  },
  "requestId": "请求ID"
}
```

### 响应格式

```json
{
  "success": true,
  "data": {
    "结果数据"
  },
  "message": "操作成功",
  "requestId": "请求ID"
}
```

### 错误响应

```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "错误描述"
  },
  "requestId": "请求ID"
}
```

---

## 错误处理

| 错误类型 | 处理方式 |
|---------|---------|
| 技能不存在 | 返回错误，提示可用技能列表 |
| 参数错误 | 返回参数验证错误 |
| 执行错误 | 返回执行错误和堆栈信息 |
| 超时 | 返回超时错误 |

---

## 相关模块

- [API调用](API调用.md) - API 调用模式
- [批量处理](批量处理.md) - 批量任务处理
- [结果处理](结果处理.md) - 结果解析、存储
