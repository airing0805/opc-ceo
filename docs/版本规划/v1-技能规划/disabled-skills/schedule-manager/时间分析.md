# 时间分析

## 概述

统计和分析时间分配情况，帮助识别时间使用模式，优化时间管理。

## 分析维度

### 按时间块分析

统计各类时间块的分配比例：

```
【时间块分析】本周 (2026-02-17 至 2026-02-23)
========================================

TB-DEEP   | ████████████████████ 35 小时 (50%)
TB-MEET   | ████████ 8 小时 (11%)
TB-ADMIN  | ███████ 7 小时 (10%)
TB-LEARN  | █████████ 10 小时 (14%)
TB-BREAK  | ██████████ 10 小时 (15%)

总计: 70 小时
```

### 按日期分析

每日时间分配对比：

```
【每日对比】2026-02-17 至 2026-02-23
==================================

日期       | DEEP | MEET | ADMIN | LEARN | BREAK
----------|-------|-------|--------|-------|-------
02-17 (一) |  4h   |  1h   |  0.5h  |  1h   |  1h
02-18 (二) |  5h   |  0h   |  0.5h  |  1h   |  1h
02-19 (三) |  3h   |  2h   |  1h    |  0h   |  1h
02-20 (四) |  4h   |  1h   |  0.5h  |  1h   |  1h
02-21 (五) |  4h   |  1h   |  0.5h  |  1h   |  1h
02-22 (六) |  5h   |  1h   |  0h    |  2h   |  1h
02-23 (日) |  4h   |  2h   |  0.5h  |  1h   |  1h
```

### 按任务分析

分析特定任务的时间消耗：

```
【任务时间分析】
================

项目 A 开发 | 25 小时 (36%)
项目 B 开发 | 15 小时 (21%)
代码审查    | 8 小时 (11%)
会议        | 8 小时 (11%)
学习        | 10 小时 (14%)
行政        | 4 小时 (6%)
```

## 趋势分析

### 周趋势

对比本周与上周：

```
【周趋势对比】
================

指标        | 本周 | 上周 | 变化
-----------|------|------|------
深度工作时间 | 35h  | 30h  | +5h (+17%)
会议时间    | 8h   | 10h  | -2h (-20%)
学习时间    | 10h  | 8h   | +2h (+25%)
行政时间    | 7h   | 6h   | +1h (+17%)
```

### 月趋势

对比本月与上月：

```
【月趋势对比】
================

指标        | 本月 | 上月 | 变化
-----------|------|------|------
总工作时间  | 140h | 150h | -10h (-7%)
深度工作占比 | 50%  | 45%  | +5%
会议占比    | 11%  | 15%  | -4%
学习时间    | 40h  | 35h  | +5h (+14%)
```

## 效率分析

### 实际 vs 计划

```
【效率分析】本周
================

时间块类型  | 计划 | 实际 | 完成率
-----------|-------|-------|--------
TB-DEEP   | 40h   | 35h   | 88%
TB-MEET   | 8h    | 8h    | 100%
TB-ADMIN  | 6h    | 7h    | 117%
TB-LEARN  | 10h   | 10h   | 100%
TB-BREAK  | 10h   | 10h   | 100%
```

### 专注度评估

```
【专注度评估】
==============

深度工作中断次数: 3 次
平均连续专注时间: 2.5 小时
专注度评分: 8.5/10

建议: 减少非必要中断，延长连续专注时间
```

## 优化建议

### 建议生成逻辑

```
1. 分析时间分配比例
2. 识别异常模式
3. 对比历史数据
4. 生成优化建议
```

### 常见建议

| 现象 | 建议 |
|-------|------|
| 深度工作时间过少 | 减少会议，增加专注时间块 |
| 会议时间过多 | 集中安排会议，缩短时长 |
| 行政时间超支 | 集中处理，避免频繁切换 |
| 学习时间不足 | 固定学习时间块 |
| 休息不足 | 增加休息时间，避免疲劳 |

## 报告导出

### 导出格式

| 格式 | 说明 |
|------|------|
| 文本 | Markdown 格式 |
| CSV | 表格数据导出 |
| JSON | 结构化数据导出 |

### 导出示例

```
导出为 CSV
→ 生成 CSV 文件
→ 包含日期、时间块、时长
→ 保存到指定位置
```

## MCP Memory 存储

### TimeAnalysis 实体

```yaml
entityType: TimeAnalysis
name: ANALYSIS-2026-W08
observations:
  - period: 2026-W08 (2026-02-17 至 2026-02-23)
  - totalHours: 70
  - breakdown:
    - TB-DEEP: 35
    - TB-MEET: 8
    - TB-ADMIN: 7
    - TB-LEARN: 10
    - TB-BREAK: 10
  - efficiency: 0.95
  - recommendations:
    - "增加深度工作时间"
    - "减少会议时间"
  - createdAt: 2026-02-24T00:00:00Z
```

## 注意事项

- 数据分析需要足够样本
- 趋势对比需要历史数据
- 优化建议需要结合实际情况
