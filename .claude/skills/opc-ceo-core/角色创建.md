# 角色创建

## 功能概述

基于需求创建新的技能角色，包括需求分析、能力定义和文档生成。

## 操作命令

### 命令 1：分析角色需求

**用途**：分析用户需求，确定是否需要创建新角色

**语法**：
```
分析角色需求:
- 需求描述: <描述>
- 现有角色: [角色列表]
- 能力缺口: [缺口列表]
- 建议方案: <方案>
```

**参数**：

| 参数 | 类型 | 必需 | 说明 |
|------|------|------|------|
| 需求描述 | string | 是 | 用户需求描述 |
| 现有角色 | array | 否 | 可处理此需求的现有角色 |
| 能力缺口 | array | 否 | 现有角色的能力缺口 |
| 建议方案 | string | 否 | 建议（创建新角色或修改现有角色） |

**示例**：
```
分析角色需求:
- 需求描述: 需要进行数据分析和报表生成
- 现有角色: [knowledge-manager]
- 能力缺口: [数据分析, 报表生成, 趋势预测]
- 建议方案: 创建新角色 data-analyst
```

### 命令 2：定义角色能力

**用途**：定义新角色的核心能力和职责

**语法**：
```
定义角色能力:
- 角色名: <英文标识>
- 显示名: <中文名称>
- 定位: <角色定位描述>
- 职责: [职责列表]
- 能力: [能力列表]
- 关联角色: [角色列表]
- 能力边界: [不能做的事]
```

**参数**：

| 参数 | 类型 | 必需 | 说明 |
|------|------|------|------|
| 角色名 | string | 是 | 英文标识（kebab-case） |
| 显示名 | string | 是 | 中文名称 |
| 定位 | string | 是 | 角色定位描述 |
| 职责 | array | 是 | 核心职责列表 |
| 能力 | array | 是 | 能力定义 |
| 关联角色 | array | 否 | 关联的其他角色 |
| 能力边界 | array | 是 | 不能做的事情 |

**示例**：
```
定义角色能力:
- 角色名: data-analyst
- 显示名: 数据分析师
- 定位: 负责数据分析、报表生成、趋势预测
- 职责:
    - 收集和清洗数据
    - 生成分析报告
    - 提供决策支持
- 能力:
    - 数据处理: 能处理常见格式数据
    - 分析报告: 报告清晰有洞见
    - 趋势预测: 准确率 > 70%
- 关联角色: [knowledge-manager, finance-manager]
- 能力边界: [不能直接修改文件, 不能执行任务管理]
```

### 命令 3：生成角色文档

**用途**：生成角色设计文档和技能文件

**语法**：
```
生成角色文档:
- 角色名: <角色名>
- 模块: [模块列表]
- 设计文档路径: <路径>
- 技能路径: <路径>
```

**参数**：

| 参数 | 类型 | 必需 | 说明 |
|------|------|------|------|
| 角色名 | string | 是 | 角色名 |
| 模块 | array | 是 | 功能模块列表 |
| 设计文档路径 | string | 是 | 设计文档保存路径 |
| 技能路径 | string | 是 | 技能文件保存路径 |

**示例**：
```
生成角色文档:
- 角色名: data-analyst
- 模块: [数据处理, 报表生成, 趋势分析]
- 设计文档路径: plans/v1-技能规划/角色设计/10-data-analyst.md
- 技能路径: .claude/skills/data-analyst/
```

## 创建流程

```
┌──────────────────────────────────────────────────────────┐
│                    角色创建流程                           │
│                                                          │
│   ┌──────────┐    ┌──────────┐    ┌──────────┐         │
│   │ 需求分析  │───▶│ 能力定义  │───▶│ 文档创建  │         │
│   └──────────┘    └──────────┘    └──────────┘         │
│         ▲                                │              │
│         │                                ▼              │
│   ┌──────────┐    ┌──────────┐    ┌──────────┐         │
│   │ 持续优化  │◀───│ 教练审核  │◀───│ 技能生成  │         │
│   └──────────┘    └──────────┘    └──────────┘         │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

### 创建步骤

1. **需求分析**
   - 收集角色需求
   - 分析与现有角色的边界
   - 确定角色定位

2. **能力定义**
   - 定义核心职责
   - 设定能力标准
   - 确定与其他角色的关系

3. **文档创建**
   - 创建角色设计文档
   - 遵循文档模板规范

4. **技能生成**
   - 创建 SKILL.md
   - 创建功能模块文件（使用中文命名）
   - 创建快速参考

5. **教练审核**
   - 提交教练审核新角色设计
   - 根据反馈调整

## MCP Memory 使用

### 创建角色创建记录

```
使用 mcp__memory__create_entities:
{
  "name": "role-creation-data-analyst",
  "entityType": "RoleCreation",
  "observations": [
    "roleId: data-analyst",
    "roleName: 数据分析师",
    "createdAt: 2026-02-23",
    "createdBy: opc-ceo-core",
    "status: 设计中",
    "designDoc: plans/v1-技能规划/角色设计/10-data-analyst.md",
    "skillPath: .claude/skills/data-analyst/"
  ]
}
```

## 创建标准

| 维度 | 合格 | 优秀 | 卓越 |
|------|------|------|------|
| 需求分析 | 明确需求 | 识别隐含需求 | 预判未来需求 |
| 能力定义 | 覆盖核心需求 | 能力完整可验证 | 能力前瞻性强 |
| 文档质量 | 格式正确 | 内容完整 | 内容清晰易用 |

## 错误处理

| 错误类型 | 处理方式 |
|----------|----------|
| 职责重叠 | 重新划分边界 |
| 能力不足 | 补充能力定义 |
| 格式错误 | 按模板修正 |

## 相关模块

- [能力边界](能力边界.md) - 参考现有角色边界
- [角色修改](角色修改.md) - 修改已创建的角色
