# 自我进化

## 功能概述

CEO 的自我进化能力，包括自我反思、学习优化、风险预警和持续改进机制。

## 核心能力

### 1. 自我反思机制

每次重要操作后自动评估：

```
┌─────────────────────────────────────────────────────────┐
│                    自我反思流程                          │
├─────────────────────────────────────────────────────────┤
│                                                          │
│   执行操作                                                │
│      │                                                   │
│      ▼                                                   │
│   ┌──────────┐    是    ┌──────────┐                   │
│   │ 关键决策？│─────是─►│ 记录决策  │                   │
│   └────┬─────┘          └────┬─────┘                   │
│        │ 否                    │                         │
│        ▼                       ▼                         │
│   ┌──────────┐          ┌──────────┐                   │
│   │ 简单记录  │          │ 自我评估  │                   │
│   └──────────┘          └────┬─────┘                   │
│                              │                           │
│                              ▼                           │
│                       ┌──────────┐                       │
│                       │ 提取教训  │                       │
│                       └────┬─────┘                       │
│                              │                           │
│                              ▼                           │
│                       ┌──────────┐                       │
│                       │ 更新能力  │                       │
│                       └──────────┘                       │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### 2. 学习优化器

从历史决策中提取模式：

```
学习周期: 每日 / 每周 / 每月

学习内容:
- 决策成功率
- 任务完成效率
- 角色协作效果
- 用户满意度

输出:
- 决策优化建议
- 角色能力调整
- 流程改进方案
```

### 3. 风险预警

主动识别潜在问题：

| 风险类型 | 预警信号 | 处理方式 |
|----------|----------|----------|
| 任务延期 | 执行时间超过预估 80% | 重新评估资源 |
| 角色疲劳 | 某角色连续多次失败 | 检查能力边界 |
| 上下文丢失 | 会话间隔过长 | 预加载上下文 |
| 依赖断裂 | 依赖任务未完成 | 调整执行顺序 |

### 4. 持续改进

自我进化的闭环：

```
┌─────────────────────────────────────────────────────────┐
│                    持续改进闭环                          │
├─────────────────────────────────────────────────────────┤
│                                                          │
│   ┌──────────┐    ┌──────────┐    ┌──────────┐       │
│   │ 收集数据  │───▶│ 分析模式  │───▶│ 生成建议  │       │
│   └──────────┘    └──────────┘    └────┬─────┘       │
│                                         │              │
│                                         ▼              │
│   ┌──────────┐    ┌──────────┐    ┌──────────┐       │
│   │ 验证效果  │◀───│ 实施改进  │◀───│ 审批建议  │       │
│   └──────────┘    └──────────┘    └──────────┘       │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

## 自我评估维度

| 维度 | 评估指标 | 目标值 |
|------|----------|--------|
| 决策质量 | 决策成功率 | ≥ 90% |
| 协调效率 | 任务按时完成率 | ≥ 85% |
| 上下文管理 | 上下文恢复成功率 | ≥ 95% |
| 风险预警 | 预警准确率 | ≥ 80% |
| 学习成长 | 改进建议采纳率 | ≥ 70% |

## 自我检查清单

每次会话结束前检查：

- [ ] 本次决策是否记录到 MCP Memory？
- [ ] 任务执行结果是否验收通过？
- [ ] 是否有遗漏的用户需求？
- [ ] 角色能力边界是否清晰？
- [ ] 潜在风险是否已识别？
- [ ] 上下文是否已保存？

## 进化触发条件

| 触发条件 | 阈值 | 处理 |
|----------|------|------|
| 决策失败 | 连续 3 次 | 触发决策复盘 |
| 任务延期 | 超时 50% | 触发效率分析 |
| 用户反馈 | 负面评价 | 触发改进流程 |
| 周期评估 | 每周/每月 | 触发全面评估 |

## MCP Memory 使用

### 创建自我评估记录

```
使用 mcp__memory__create_entities:
{
  "name": "SELF-EVAL-2026-02-25-001",
  "entityType": "SelfEvaluation",
  "observations": [
    "type: decision_review",
    "decisionId: DECISION-2026-02-25-001",
    "quality: 85%,
    "improvement: 优化风险评估流程",
    "timestamp: 2026-02-25T10:00:00"
  ]
}
```

### 创建进化记录

```
使用 mcp__memory__create_entities:
{
  "name": "EVOLUTION-2026-02-25-001",
  "entityType": "Evolution",
  "observations": [
    "type: capability_improvement",
    "area: risk_prediction",
    "change: 新增风险预警模块",
    "status: completed",
    "timestamp: 2026-02-25T10:30:00"
  ]
}
```

## 与 Coach 的协作

CEO 的自我进化可以在以下场景与 Coach 协作：

1. **定期评估** - Coach 定期评估 CEO 表现
2. **问题诊断** - 遇到复杂问题时请求 Coach 指导
3. **能力验证** - 新能力上线前请求 Coach 验证
4. **方向确认** - 重大进化方向请求 Coach 确认

## 版本历史

| 版本 | 日期 | 变更内容 |
|------|------|----------|
| 1.0.0 | 2026-02-25 | 初始版本 - 自我反思、学习优化、风险预警 |
| 2.0.0 | 2026-02-25 | 深化自我反思机制、底层执行能力评估 |

## 相关模块

- [决策支持](决策支持.md) - 决策记录是自我反思的基础
- [上下文管理](上下文管理.md) - 上下文保存支持反思
- [角色成长管理](角色成长管理.md) - 参考角色成长模式
- [能力边界](能力边界.md) - 自身能力边界评估
