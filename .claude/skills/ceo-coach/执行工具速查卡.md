# 执行工具速查卡

> 精简版工具选择指南 - 快速定位正确的工具

---

## 一、工具选择决策树

```
需要什么操作？
├── 读取文档 ──────────► mcp__filesystem__read_file
│   └── 备选 ──────────► Read
├── 写入/创建文档 ──────► mcp__filesystem__write_file
│   └── 备选 ──────────► Write
├── 编辑文档 ──────────► mcp__filesystem__edit_file
│   └── 备选 ──────────► Edit
├── 搜索文件 ──────────► Glob
├── 搜索内容 ──────────► Grep
├── Memory 查询 ────────► mcp__memory__search_nodes
├── Memory 创建 ────────► mcp__memory__create_entities
├── Memory 更新 ────────► mcp__memory__add_observations
├── Git/系统操作 ───────► Bash
└── 并行操作 ──────────► 在单次响应中同时调用多个工具
```

---

## 二、常用路径速查

| 目标 | 路径 |
|------|------|
| 任务分配 | `docs/沟通文档/任务分配.md` |
| 战略目标 | `docs/战略规划/战略目标.md` |
| 版本规划 | `docs/版本规划/v2-技能规划/README.md` |
| 执行日志 | `docs/执行日志/YYYY-MM-DD.md` |
| 协调记录 | `docs/沟通文档/协调记录.md` |
| 自我进化报告 | `docs/沟通文档/自我进化/coach 自我进化报告.md` |

**完整路径前缀**：`E:/workspaces_2026_python/OPC-CEO/`

---

## 三、Memory 实体类型速查

| 类型 | 命名格式 | 用途 |
|------|----------|------|
| Task | `TASK-v2.x.y` | 任务实体 |
| Decision | `DECISION-YYYY-MM-DD-NNN` | 决策记录 |
| CoachEvolution | `COACH-EVOLUTION-YYYY-MM-DD-NNN` | 进化记录 |
| CoachEvaluation | `COACH-EVAL-YYYY-MM-DD-NNN` | 评估记录 |
| CoordinationEvent | `COORD-YYYY-MM-DD-NNN` | 协调事件 |

---

## 四、快速执行模板

### 4.1 启动自检（3步）

```json
// 步骤1: 检查 Memory
mcp__memory__search_nodes({ "query": "task project status" })

// 步骤2: 检查任务
mcp__filesystem__read_file({ "path": "E:/workspaces_2026_python/OPC-CEO/docs/沟通文档/任务分配.md" })

// 步骤3: 检查 Git
Bash({ "command": "git status" })
```

### 4.2 创建任务记录（2步）

```json
// 步骤1: Memory
mcp__memory__create_entities({
  "entities": [{
    "name": "TASK-v2.x.y",
    "entityType": "Task",
    "observations": ["description: ...", "status: pending", "assignedTo: ..."]
  }]
})

// 步骤2: 文档
mcp__filesystem__edit_file({
  "path": "E:/workspaces_2026_python/OPC-CEO/docs/沟通文档/任务分配.md",
  "old_string": "<!-- 新任务在此添加 -->",
  "new_string": "| v2.x.y | 任务描述 | 待执行 | 角色 | 日期 |\n\n<!-- 新任务在此添加 -->"
})
```

### 4.3 记录进化（1步）

```json
mcp__memory__create_entities({
  "entities": [{
    "name": "COACH-EVOLUTION-YYYY-MM-DD-NNN",
    "entityType": "CoachEvolution",
    "observations": [
      "type: capability_improvement",
      "area: ...",
      "change: ...",
      "status: completed",
      "timestamp: ..."
    ]
  }]
})
```

---

## 五、错误处理快速决策

```
MCP 工具失败？
├── 文档操作 ──────────► 切换到 Read/Write/Edit
├── Memory 操作 ────────► 记录错误，通知用户
└── 持续失败 ──────────► 记录到执行日志，等待用户处理

Memory 返回空？
└── 从文档读取 ──────────► 重建 Memory 实体
```

---

## 六、并行执行模式

**场景**：需要同时读取多个独立文件

```json
// 同时发起多个读取请求（单次响应中）
mcp__filesystem__read_file({ "path": "文件1" })
mcp__filesystem__read_file({ "path": "文件2" })
mcp__memory__search_nodes({ "query": "关键词" })
```

**原则**：
- 独立操作可以并行
- 有依赖的操作必须串行
- 优先使用并行提升效率

---

## 七、THINK 快速检查（3问）

每次回应前必答：

| 问题 | 检查 |
|------|------|
| 1. 用户真正想要什么？ | □ 确认意图 |
| 2. 我提供了多个方案吗？ | □ 至少 2 个 |
| 3. 执行需要等待确认吗？ | □ 等待触发词 |

---

> ceo-coach V7.0 - 执行工具速查卡
